<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>狐狸窝 | vue使用感受（二）组件间跳转</title>
    <meta name="description" content="让我们一起发现世界的美好">
    <meta name="keywords" content="blog javascript vue">
    <link rel="preload" href="/assets/css/0.styles.2969b16e.css" as="style"><link rel="preload" href="/assets/js/app.f16156fe.js" as="script"><link rel="preload" href="/assets/js/5.966bbba3.js" as="script"><link rel="preload" href="/assets/js/30.d83e4ed9.js" as="script"><link rel="prefetch" href="/assets/js/15.1d79a8c1.js"><link rel="prefetch" href="/assets/js/1.f5d7f68d.js"><link rel="prefetch" href="/assets/js/2.ee7c342e.js"><link rel="prefetch" href="/assets/js/3.9316413b.js"><link rel="prefetch" href="/assets/js/4.282fdc9b.js"><link rel="prefetch" href="/assets/js/6.a9c58b5c.js"><link rel="prefetch" href="/assets/js/7.63da355e.js"><link rel="prefetch" href="/assets/js/8.6f8de4c8.js"><link rel="prefetch" href="/assets/js/9.d218351f.js"><link rel="prefetch" href="/assets/js/10.ae027ce1.js"><link rel="prefetch" href="/assets/js/11.5547e1b4.js"><link rel="prefetch" href="/assets/js/12.d73d49fb.js"><link rel="prefetch" href="/assets/js/13.50947120.js"><link rel="prefetch" href="/assets/js/14.6de0afc6.js"><link rel="prefetch" href="/assets/js/16.cd871ac1.js"><link rel="prefetch" href="/assets/js/17.a9518419.js"><link rel="prefetch" href="/assets/js/18.d3976237.js"><link rel="prefetch" href="/assets/js/19.46a02036.js"><link rel="prefetch" href="/assets/js/20.bc2e946c.js"><link rel="prefetch" href="/assets/js/21.c5c0bb9b.js"><link rel="prefetch" href="/assets/js/22.c96ac05c.js"><link rel="prefetch" href="/assets/js/23.983bdba8.js"><link rel="prefetch" href="/assets/js/24.0baf8db9.js"><link rel="prefetch" href="/assets/js/25.1ad0cb36.js"><link rel="prefetch" href="/assets/js/26.9365bce2.js"><link rel="prefetch" href="/assets/js/27.90d4e1b2.js"><link rel="prefetch" href="/assets/js/28.1de54b02.js"><link rel="prefetch" href="/assets/js/29.b575e2f9.js"><link rel="prefetch" href="/assets/js/31.5c9ecbea.js"><link rel="prefetch" href="/assets/js/32.774df78c.js"><link rel="prefetch" href="/assets/js/33.ffdee1d0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2969b16e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="router-link-active"><!----><span class="site-name">
      狐狸窝
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><div class="dropdown-title"><span class="title">导航</span><span class="arrow"></span></div><ul class="nav-dropdown"><li class="dropdown-item"><!----><a href="/blog/web.html" class="nav-link">技术体悟</a></li><li class="dropdown-item"><!----><a href="/blog/other.html" class="nav-link">随笔感想</a></li><li class="dropdown-item"><!----><a href="/blog/vlog.html" class="nav-link">旅行&amp;Vlog</a></li><li class="dropdown-item"><!----><a href="/blog/novel.html" class="nav-link">随便写写的小说</a></li><li class="dropdown-item"><!----><a href="/blog/MinecraftMod.html" class="nav-link">MC Mod开发系列视频</a></li><li class="dropdown-item"><!----><a href="/blog/MCTranslation.html" class="nav-link">Mcjty教程翻译</a></li><li class="dropdown-item"><!----><a href="/blog/photo.html" class="nav-link">摄影作品</a></li></ul></div></div><div class="nav-item"><a href="https://space.bilibili.com/3721275/#/" target="_blank" rel="noopener noreferrer" class="nav-link">B站空间</a></div><div class="nav-item"><a href="/game/MCserver.html" class="nav-link">Minecraft私有服务器</a></div><div class="nav-item"><a href="http://118.89.248.161/owncloud/index.php" target="_blank" rel="noopener noreferrer" class="nav-link">owncloud云</a></div><div class="nav-item"><a href="/blog/web/link.html" class="nav-link">联系狐狸</a></div><a href="https://github.com/Mileber/Mileber.github.io" target="_blank" rel="noopener" class="github-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><div class="dropdown-title"><span class="title">导航</span><span class="arrow"></span></div><ul class="nav-dropdown"><li class="dropdown-item"><!----><a href="/blog/web.html" class="nav-link">技术体悟</a></li><li class="dropdown-item"><!----><a href="/blog/other.html" class="nav-link">随笔感想</a></li><li class="dropdown-item"><!----><a href="/blog/vlog.html" class="nav-link">旅行&amp;Vlog</a></li><li class="dropdown-item"><!----><a href="/blog/novel.html" class="nav-link">随便写写的小说</a></li><li class="dropdown-item"><!----><a href="/blog/MinecraftMod.html" class="nav-link">MC Mod开发系列视频</a></li><li class="dropdown-item"><!----><a href="/blog/MCTranslation.html" class="nav-link">Mcjty教程翻译</a></li><li class="dropdown-item"><!----><a href="/blog/photo.html" class="nav-link">摄影作品</a></li></ul></div></div><div class="nav-item"><a href="https://space.bilibili.com/3721275/#/" target="_blank" rel="noopener noreferrer" class="nav-link">B站空间</a></div><div class="nav-item"><a href="/game/MCserver.html" class="nav-link">Minecraft私有服务器</a></div><div class="nav-item"><a href="http://118.89.248.161/owncloud/index.php" target="_blank" rel="noopener noreferrer" class="nav-link">owncloud云</a></div><div class="nav-item"><a href="/blog/web/link.html" class="nav-link">联系狐狸</a></div><a href="https://github.com/Mileber/Mileber.github.io" target="_blank" rel="noopener" class="github-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>vue使用感受（二）组件间跳转</span><!----></p><ul class="sidebar-group-items"><li><a href="/blog/web/blog4vue/2.html#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/web/blog4vue/2.html#vue-router" class="sidebar-link">vue-router</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/web/blog4vue/2.html#路由懒加载" class="sidebar-link">路由懒加载</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/web/blog4vue/2.html#路由跳转" class="sidebar-link">路由跳转</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/web/blog4vue/2.html#其他动态切换组件的方式" class="sidebar-link">其他动态切换组件的方式</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="vue使用感受（二）组件间跳转"><a href="#vue使用感受（二）组件间跳转" aria-hidden="true" class="header-anchor">#</a> vue使用感受（二）组件间跳转</h1><div class="tag" data-v-a9805d8e><span class="typename" data-v-a9805d8e>2018-3-27</span></div><p>昨天我们聊了一下vue的组件间传值，今天来讨论下我遇到的第二个问题组件间跳转。在不使用前端框架的时候，如果我们要点击菜单跳转到指定页面，一般来说可以使用<code>&lt;a&gt;</code>标签或者在页面中嵌套iframe。前者可以改变页面路径或者通过锚点来跳转到页面指定位置，后者则是在页面中嵌套一个子页面，可以部分刷新，改变内容。不过HTML5已经不再支持iframe了，所以要做到部分页面跳转等功能，我们可以借助一下vue。</p><h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2><p>在vue这边，如果要跳转页面一般是借助vue-router的，也就是路由。但是路由跳转到不同地址时，会使得页面刷新。如果页面中包含Header、Footer等不需要刷新的组件，用户可能还是会看到闪了一下，或者加载时候的空白。所以我们需要在不改变路由路径的情况下，替换页面部分组件。我找到的方法是使用<code>&lt;component&gt;</code>标签。如果有大佬有其他方法可以留言告诉我~</p><p>接下来我们就从这两种情况分别谈一谈。</p><h2 id="vue-router"><a href="#vue-router" aria-hidden="true" class="header-anchor">#</a> vue-router</h2><p>vue的一大特色就是文档写得很好，许多问题我们都可以在文档上找到答案。对于vue-router也是有一个很完善的文档的，大家可以先去那边看看。安装的步骤我这边也不提了。</p><blockquote><p>https://router.vuejs.org/zh-cn/</p></blockquote><p>我就举一下我做的测试系统的例子。在安装完成之后我们在src文件夹下创建一个router.js的文件。如果你使用的是我之前推荐的iView的工程，那这个文件已经建好了。</p><blockquote><p>PS：router.js这个文件的名字其实可以根据你的喜好来改的，只要你在main.js中引入的时候和这个名字一致就可以了。不过狐狸还是推荐你用带有router字眼的文件名，这样在多人开发的时候，其他小伙伴可以比较容易理解。</p></blockquote><p>我们先看一下iView那个工程中的router.js写了什么。</p><pre class="language-javascript"><code><span class="token keyword">const</span> routers <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    meta<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>'<span class="token punctuation">.</span><span class="token operator">/</span>views<span class="token operator">/</span>index<span class="token punctuation">.</span>vue<span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> routers<span class="token punctuation">;</span>
</code></pre><p>这边定义了一个 ‘/’ 路径，也就是根目录。meta表示的是元信息（这个在MC mod开发中也有），我觉得就是这个路径带着的一个字段，可以在下面进行一些对路由的判断或其他处理。第三个是component，也就是这个路径对应的组件。这边的写法被称作路由懒加载，也就是在这个路由被访问的时候才加载对应的组件。在这里，加载的组件是views文件夹下面的index组件。如果不需要懒加载的话，我们可以写成这样。meta如果用不到的话也可以去掉。</p><pre class="language-javascript"><code><span class="token keyword">import</span> Index <span class="token keyword">from</span> <span class="token string">'./views/index.vue'</span>

<span class="token keyword">const</span> routers <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> Index
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> routers<span class="token punctuation">;</span>
</code></pre><h2 id="路由懒加载"><a href="#路由懒加载" aria-hidden="true" class="header-anchor">#</a> 路由懒加载</h2><p>虽然我们可以选择不用这个，但是既然出现在那里就很在意啊。那个=&gt;看起来很高端的样子，我们就岔开来单独看看这些到底是啥。首先，我们还是看一看官方文档。</p><blockquote><p>https://router.vuejs.org/zh-cn/advanced/lazy-loading.html</p></blockquote><p>官方文档里面说要结合Vue的异步组件和Webpack的代码分割功能。那我们先来看看异步组件。</p><blockquote><p>https://cn.vuejs.org/v2/guide/components.html#%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6</p></blockquote><p>这里说我们可以把组件定义成一个工厂函数。当组件需要渲染的时候触发工厂函数，并且把结果缓存起来，之后再次渲染的时候可以用。这个工厂函数接收一个resolve的回调，在收到从服务器下载的组件定义时调用。你可以在工厂函数中返回一个Promise。当使用局部注册时，也可以直接提供一个返回Promise的函数。</p><p>好的上面这段话是官网上的，我盯着看了好久，有种似懂非懂的感觉。百度之后的结果：</p><ul><li>工厂函数就是当我调用这个函数时，实际上是先利用类创建了一个对象，然后返回这个对象。</li><li>Promise对象代表异步操作最终完成或者失败的对象。它是某个函数返回的对象，你可以把回掉函数绑定在这个对象上。</li></ul><pre class="language-javascript"><code><span class="token comment">//以前的回调函数</span>
<span class="token keyword">function</span> <span class="token function">successCallback</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;成功：&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">failureCallback</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;失败：&quot;</span> <span class="token operator">+</span> error<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">doSomething</span><span class="token punctuation">(</span>successCallback<span class="token punctuation">,</span> failureCallback<span class="token punctuation">)</span>
</code></pre><p>用了promise之后</p><pre class="language-javascript"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>successCallback<span class="token punctuation">,</span> failureCallback<span class="token punctuation">)</span>
</code></pre><p>或者直接把promise藏起来</p><pre class="language-javascript"><code><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>successCallback<span class="token punctuation">,</span> failureCallback<span class="token punctuation">)</span>
</code></pre><p>之前我们在component那边看到的resolve就是promise对象的一个方法，意思是将当前执行状态改为resolved，并触发绑定的所有成功的回调函数。</p><pre class="language-javascript"><code>component<span class="token punctuation">:</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./views/index.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>resolve<span class="token punctuation">)</span>
</code></pre><ul><li><strong>=&gt;箭头函数</strong>，相当于匿名函数。如果我们把上面这句用一般的方式写的话，应该是下面这样。也就是箭头前面的resolve是传递给函数的参数，而箭头后面则是函数返回的值。这边是一个require方法。</li></ul><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./views/index.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><ul><li><strong>require.js</strong>是一个JS模块的载入框架，也就是实际上我们按需加载所用到的方法。这个框架使用的是AMD模块规范（Asynchronous Module Definition），也就是异步模块定义。</li></ul><pre class="language-text"><code>格式：require([module], callback)
</code></pre><p>是不是和我们上面return那句很像？也就是说./views/index.vue是我们要加载的模块，resolve是我们的回调函数。不过在ES6中上面这个和import语句是等价的。</p><pre class="language-javascript"><code><span class="token keyword">import</span> index <span class="token keyword">from</span> <span class="token string">'./views/index.vue'</span>
<span class="token comment">//等价于</span>
<span class="token keyword">var</span> list <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./list'</span><span class="token punctuation">)</span>
</code></pre><p>好了，解释了一堆，我们最后发现结果平平无奇。</p><p><img src="http://118.89.248.161/owncloud/index.php/s/UDh9CXn0G8PTSGr/download" alt="2-9"></p><p><img src="http://118.89.248.161/owncloud/index.php/s/Y2xyU9FY9hNZEIQ/download" alt="2-10"></p><p>也就是我们在定义路径component的位置引入了需要的组件，而不是在文件一开始把所有的都引入。</p><h2 id="路由跳转"><a href="#路由跳转" aria-hidden="true" class="header-anchor">#</a> 路由跳转</h2><p>话说回来，我们想要的是组件间跳转。我们在写好router.js这个文件之后，我们需要修改一下main.js这个文件。</p><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">import</span> routers <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./app'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
  routes<span class="token punctuation">:</span> routers
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
  render<span class="token punctuation">:</span> h <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>接下来我们看一下app.vue，也就是我们所有组件的容器。这个组件我们在main.js里面也引入了。这边的<code>&lt;router-view&gt;</code>标签可以渲染路径匹配到的组件。</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>layout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>我们之前在router.js里面定义了’/'这个根目录对应的组件是index.vue，那么这个index组件就会被加载到<code>&lt;router-view&gt;</code>标签的位置。如果说我们网页运行的地址是localhost:8080，那么我们在访问localhost:8080这个地址的时候出来的就是app.vue组件中嵌套着index.vue组件的样子。</p><p>如果我们的第一个页面是登录页，登录按钮点击后跳转到主页面，应该怎么做呢？这里涉及到路由的跳转。我们假设我们有两个组件login.vue和index.vue。我们希望用户访问localhost:8080的时候看到的是登录页，点击后跳转到localhost:8080/home这个路径。那么router.js可以这样写。</p><pre class="language-javascript"><code><span class="token keyword">const</span> routers <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'login'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./views/login.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./views/index.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> routers<span class="token punctuation">;</span>
</code></pre><p>我们需要在login这个组件中为登录按钮绑定一个点击事件。</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">login</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'home'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>这个login方法中就是一个路由跳转的方法，具体的使用方法请参考官方文档。</p><h2 id="其他动态切换组件的方式"><a href="#其他动态切换组件的方式" aria-hidden="true" class="header-anchor">#</a> 其他动态切换组件的方式</h2><p>vue-router基本上能满足大多数的情况，但如果我们的界面上有很多菜单项，点击之后都希望页面中的一部分产生变化，但是又不希望改变路径的话，vue-router可能就满足不了了。</p><blockquote><p>PS：如果有可以用router实现的方式，请大佬指正~</p></blockquote><p>vue自带一个<code>&lt;component&gt;&lt;/component&gt;</code>标签，里面有一个动态绑定的is属性，我们可以动态的选择加载哪一个组件。比如说我们有一个这样的页面。</p><p><img src="http://118.89.248.161/owncloud/index.php/s/pZONQ2gVhPCnKvY/download" alt="2-11"></p><p>我们的Footer中有两个按钮，主页和通讯录。我们希望我们在点击按钮时，Content部分的组件变化，但是Header和Footer部分不变，路由也不变。那么我们可以在Content中放入component标签。（Header部分代码我就不写了）</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>layout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layout</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Header</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tabView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Content</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Footer</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btnBottom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>setPage(1)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ios-home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>24<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>iconText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">float</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>setPage(2)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>person-stalker<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>24<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>iconText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>通讯录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Footer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Layout</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">import</span> MainPage <span class="token keyword">from</span> <span class="token string">'./children/MainPage'</span>
  <span class="token keyword">import</span> ContactsPage <span class="token keyword">from</span> <span class="token string">'./children/ContactsPage'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        tabView<span class="token punctuation">:</span> <span class="token string">'MainPage'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">setPage</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1:首页，2:通讯录</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>tabView <span class="token operator">=</span> <span class="token string">'MainPage'</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>tabView <span class="token operator">=</span> <span class="token string">'ContactsPage'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      MainPage<span class="token punctuation">,</span>
      ContactsPage
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>当我们点击首页时，触发setPage方法，把tabView的值设置为MainPage。而tabView动态绑定is属性，这样component标签就会显示MainPage组件的内容了。通讯录同理。</p><p>以上就是我目前涉及的组件间跳转的内容。vue-router的应用还很多，推荐大家多看看官方文档，用着用着就会觉得喵啊。</p></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/blog/web/blog4vue/1.html" class="prev">
          vue使用感受（一）组件间传值
        </a></span><!----></p></div></div></div></div>
    <script src="/assets/js/5.966bbba3.js" defer></script><script src="/assets/js/30.d83e4ed9.js" defer></script><script src="/assets/js/app.f16156fe.js" defer></script>
  </body>
</html>
